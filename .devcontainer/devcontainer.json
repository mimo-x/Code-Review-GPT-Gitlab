{
	"name": "Code Review GPT (Dev Environment)",

	// ğŸ‘‡ ä½¿ç”¨ Docker Compose æ–¹å¼æ”¯æŒå¤šæœåŠ¡
	"dockerComposeFile": "docker-compose.yml",

	// ğŸ‘‡ æŒ‡å®šä¸»å¼€å‘å®¹å™¨æœåŠ¡
	"service": "app",

	// ğŸ‘‡ å·¥ä½œç›®å½•
	"workspaceFolder": "/workspaces",

	// ğŸ‘‡ Features to add to the Dev Container. More info: https://containers.dev/implementors/features.
	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {},
		"ghcr.io/prulloac/devcontainer-features/bun:1": {},
		"ghcr.io/devcontainers/features/node:1": {},
		"ghcr.io/devcontainers/features/python:1": {},
		"ghcr.io/devcontainers-extra/features/poetry:2": {}
	},

	// ğŸ‘‡ Commands to run when the container is created.
	"postCreateCommand": "curl -LsSf https://astral.sh/uv/install.sh | sh && uv sync",

	// ğŸ‘‡ ç«¯å£è½¬å‘ - å°†æœåŠ¡ç«¯å£æš´éœ²åˆ°æœ¬åœ°
	"forwardPorts": [8000, 3000, 27017],

	// ğŸ‘‡ ç«¯å£å±æ€§
	"portsAttributes": {
		"8000": {
			"label": "Django Backend",
			"onAutoForward": "notify"
		},
		"3000": {
			"label": "Vue.js Frontend",
			"onAutoForward": "notify"
		},
		"27017": {
			"label": "MongoDB",
			"onAutoForward": "silent"
		}
	},

	// ğŸ‘‡ Configure tool-specific properties.
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-python.black-formatter",
				"ms-python.flake8",
				"Vue.volar",
				"Vue.vscode-typescript-vue-plugin",
				"bradlc.vscode-tailwindcss",
				"ms-azuretools.vscode-docker"
			],
			"settings": {
				"python.defaultInterpreterPath": "/usr/local/bin/python",
				"python.formatting.provider": "black",
				"editor.formatOnSave": true
			}
		}
	},

	// ğŸ‘‡ ç¯å¢ƒå˜é‡è®¾ç½®
	"remoteEnv": {
		"MONGODB_HOST": "mongodb",
		"MONGODB_PORT": "27017",
		"MONGODB_USER": "admin",
		"MONGODB_PASSWORD": "password"
	},

	// ğŸ‘‡ æŒ‚è½½å·ï¼ˆå¦‚æœæœ‰éœ€è¦æŒä¹…åŒ–çš„æ•°æ®ï¼‰
	"mounts": [
		"source=${localWorkspaceFolder}/backend,target=/workspaces/backend,type=bind",
		"source=${localWorkspaceFolder}/frontend,target=/workspaces/frontend,type=bind"
	],

	// ğŸ‘‡ ç”Ÿå‘½å‘¨æœŸè„šæœ¬
	"postStartCommand": "cd /workspaces/backend && python manage.py migrate",

	// ğŸ‘‡ Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	"remoteUser": "root"
}